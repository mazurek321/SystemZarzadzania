2025-07-01 21:10:42.767 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:10:42.958 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:10:42.995 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:10:42.995 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:10:42.996 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:10:42.996 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:10:42.997 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:10:42.997 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:10:42.998 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:10:43.011 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:10:43.015 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:10:43.094 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:10:43.840 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:10:44.108 +02:00 [INF] Executed DbCommand (152ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `__EFMigrationsHistory` (
    `MigrationId` varchar(150) CHARACTER SET utf8mb4 NOT NULL,
    `ProductVersion` varchar(32) CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK___EFMigrationsHistory` PRIMARY KEY (`MigrationId`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.123 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:10:44.127 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:10:44.142 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:10:44.181 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:10:44.209 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.244 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Tasks` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Title` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Description` longtext CHARACTER SET utf8mb4 NOT NULL,
    `PlannedBegin` datetime(6) NOT NULL,
    `PlannedEnd` datetime(6) NOT NULL,
    `ActualBegin` datetime(6) NOT NULL,
    `ActualEnd` datetime(6) NOT NULL,
    `Priority` int NOT NULL,
    `Category` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Tasks` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.276 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Users` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Lastname` longtext CHARACTER SET utf8mb4 NOT NULL,
    `PasswordHash` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Email` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Phone` longtext CHARACTER SET utf8mb4 NOT NULL,
    `IsActive` tinyint(1) NOT NULL,
    `LastActive` datetime(6) NOT NULL,
    `Role` int NOT NULL,
    `CreatedAt` datetime(6) NOT NULL,
    `UpdatedAt` datetime(6) NOT NULL,
    CONSTRAINT `PK_Users` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.280 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250626165201_Initialize', '8.0.13');
2025-07-01 21:10:44.286 +02:00 [INF] Applying migration '20250626191033_Tasks'.
2025-07-01 21:10:44.399 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `ActualBegin`;
2025-07-01 21:10:44.480 +02:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `ActualEnd`;
2025-07-01 21:10:44.559 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `Category`;
2025-07-01 21:10:44.585 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` RENAME COLUMN `PlannedEnd` TO `StartDate`;
2025-07-01 21:10:44.609 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` RENAME COLUMN `PlannedBegin` TO `EndDate`;
2025-07-01 21:10:44.652 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `Category` (
    `Id` int NOT NULL AUTO_INCREMENT,
    `Name` longtext CHARACTER SET utf8mb4 NOT NULL,
    CONSTRAINT `PK_Category` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.707 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TaskCategories` (
    `CategoriesId` int NOT NULL,
    `TasksId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TaskCategories` PRIMARY KEY (`CategoriesId`, `TasksId`),
    CONSTRAINT `FK_TaskCategories_Category_CategoriesId` FOREIGN KEY (`CategoriesId`) REFERENCES `Category` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_TaskCategories_Tasks_TasksId` FOREIGN KEY (`TasksId`) REFERENCES `Tasks` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.747 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TaskCategories_TasksId` ON `TaskCategories` (`TasksId`);
2025-07-01 21:10:44.753 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250626191033_Tasks', '8.0.13');
2025-07-01 21:10:44.754 +02:00 [INF] Applying migration '20250626192137_User-Tasks'.
2025-07-01 21:10:44.808 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `UserTasksAssignment` (
    `TasksId` char(36) COLLATE ascii_general_ci NOT NULL,
    `UsersId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_UserTasksAssignment` PRIMARY KEY (`TasksId`, `UsersId`),
    CONSTRAINT `FK_UserTasksAssignment_Tasks_TasksId` FOREIGN KEY (`TasksId`) REFERENCES `Tasks` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_UserTasksAssignment_Users_UsersId` FOREIGN KEY (`UsersId`) REFERENCES `Users` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:44.834 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_UserTasksAssignment_UsersId` ON `UserTasksAssignment` (`UsersId`);
2025-07-01 21:10:44.839 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250626192137_User-Tasks', '8.0.13');
2025-07-01 21:10:44.840 +02:00 [INF] Applying migration '20250628175606_UserTaskChange'.
2025-07-01 21:10:44.889 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_BEFORE_DROP_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID TINYINT(1);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `Extra` = 'auto_increment'
			AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_KEY` = 'PRI'
			LIMIT 1;
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2025-07-01 21:10:44.905 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE IF EXISTS `POMELO_AFTER_ADD_PRIMARY_KEY`;
CREATE PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`(IN `SCHEMA_NAME_ARGUMENT` VARCHAR(255), IN `TABLE_NAME_ARGUMENT` VARCHAR(255), IN `COLUMN_NAME_ARGUMENT` VARCHAR(255))
BEGIN
	DECLARE HAS_AUTO_INCREMENT_ID INT(11);
	DECLARE PRIMARY_KEY_COLUMN_NAME VARCHAR(255);
	DECLARE PRIMARY_KEY_TYPE VARCHAR(255);
	DECLARE SQL_EXP VARCHAR(1000);
	SELECT COUNT(*)
		INTO HAS_AUTO_INCREMENT_ID
		FROM `information_schema`.`COLUMNS`
		WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
			AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
			AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
			AND `COLUMN_TYPE` LIKE '%int%'
			AND `COLUMN_KEY` = 'PRI';
	IF HAS_AUTO_INCREMENT_ID THEN
		SELECT `COLUMN_TYPE`
			INTO PRIMARY_KEY_TYPE
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SELECT `COLUMN_NAME`
			INTO PRIMARY_KEY_COLUMN_NAME
			FROM `information_schema`.`COLUMNS`
			WHERE `TABLE_SCHEMA` = (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA()))
				AND `TABLE_NAME` = TABLE_NAME_ARGUMENT
				AND `COLUMN_NAME` = COLUMN_NAME_ARGUMENT
				AND `COLUMN_TYPE` LIKE '%int%'
				AND `COLUMN_KEY` = 'PRI';
		SET SQL_EXP = CONCAT('ALTER TABLE `', (SELECT IFNULL(SCHEMA_NAME_ARGUMENT, SCHEMA())), '`.`', TABLE_NAME_ARGUMENT, '` MODIFY COLUMN `', PRIMARY_KEY_COLUMN_NAME, '` ', PRIMARY_KEY_TYPE, ' NOT NULL AUTO_INCREMENT;');
		SET @SQL_EXP = SQL_EXP;
		PREPARE SQL_EXP_EXECUTE FROM @SQL_EXP;
		EXECUTE SQL_EXP_EXECUTE;
		DEALLOCATE PREPARE SQL_EXP_EXECUTE;
	END IF;
END;
2025-07-01 21:10:44.924 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `TaskCategories` DROP FOREIGN KEY `FK_TaskCategories_Category_CategoriesId`;
2025-07-01 21:10:45.070 +02:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CALL POMELO_BEFORE_DROP_PRIMARY_KEY(NULL, 'Category');
ALTER TABLE `Category` DROP PRIMARY KEY;
2025-07-01 21:10:45.099 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Category` RENAME `Categories`;
2025-07-01 21:10:45.197 +02:00 [INF] Executed DbCommand (97ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `CreatedAt` datetime(6) NOT NULL DEFAULT '0001-01-01 00:00:00';
2025-07-01 21:10:45.291 +02:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `CreatedBy` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-07-01 21:10:45.393 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `LastUpdate` datetime(6) NOT NULL DEFAULT '0001-01-01 00:00:00';
2025-07-01 21:10:45.485 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `UpdatedBy` char(36) COLLATE ascii_general_ci NOT NULL DEFAULT '00000000-0000-0000-0000-000000000000';
2025-07-01 21:10:45.657 +02:00 [INF] Executed DbCommand (171ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Categories` ADD CONSTRAINT `PK_Categories` PRIMARY KEY (`Id`);
CALL POMELO_AFTER_ADD_PRIMARY_KEY(NULL, 'Categories', 'Id');
2025-07-01 21:10:45.770 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `TaskCategories` ADD CONSTRAINT `FK_TaskCategories_Categories_CategoriesId` FOREIGN KEY (`CategoriesId`) REFERENCES `Categories` (`Id`) ON DELETE CASCADE;
2025-07-01 21:10:45.774 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250628175606_UserTaskChange', '8.0.13');
2025-07-01 21:10:45.799 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_BEFORE_DROP_PRIMARY_KEY`;
2025-07-01 21:10:45.807 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP PROCEDURE `POMELO_AFTER_ADD_PRIMARY_KEY`;
2025-07-01 21:10:45.809 +02:00 [INF] Applying migration '20250628180354_UserTaskChanges'.
2025-07-01 21:10:45.909 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Tasks_CreatedBy` ON `Tasks` (`CreatedBy`);
2025-07-01 21:10:45.951 +02:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Tasks_UpdatedBy` ON `Tasks` (`UpdatedBy`);
2025-07-01 21:10:46.088 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD CONSTRAINT `FK_Tasks_Users_CreatedBy` FOREIGN KEY (`CreatedBy`) REFERENCES `Users` (`Id`) ON DELETE RESTRICT;
2025-07-01 21:10:46.221 +02:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD CONSTRAINT `FK_Tasks_Users_UpdatedBy` FOREIGN KEY (`UpdatedBy`) REFERENCES `Users` (`Id`) ON DELETE RESTRICT;
2025-07-01 21:10:46.228 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250628180354_UserTaskChanges', '8.0.13');
2025-07-01 21:10:46.229 +02:00 [INF] Applying migration '20250629093242_Changes'.
2025-07-01 21:10:46.329 +02:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE `TaskCategories`;
2025-07-01 21:10:46.365 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE `UserTasksAssignment`;
2025-07-01 21:10:46.460 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `Categories` longtext CHARACTER SET utf8mb4 NOT NULL;
2025-07-01 21:10:46.569 +02:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `CategoryId` int NULL;
2025-07-01 21:10:46.631 +02:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `UserId` char(36) COLLATE ascii_general_ci NULL;
2025-07-01 21:10:46.691 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `Users` longtext CHARACTER SET utf8mb4 NOT NULL;
2025-07-01 21:10:46.717 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Tasks_CategoryId` ON `Tasks` (`CategoryId`);
2025-07-01 21:10:46.738 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_Tasks_UserId` ON `Tasks` (`UserId`);
2025-07-01 21:10:46.822 +02:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD CONSTRAINT `FK_Tasks_Categories_CategoryId` FOREIGN KEY (`CategoryId`) REFERENCES `Categories` (`Id`);
2025-07-01 21:10:46.950 +02:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD CONSTRAINT `FK_Tasks_Users_UserId` FOREIGN KEY (`UserId`) REFERENCES `Users` (`Id`);
2025-07-01 21:10:46.955 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250629093242_Changes', '8.0.13');
2025-07-01 21:10:46.956 +02:00 [INF] Applying migration '20250629094758_ChangeInTasks'.
2025-07-01 21:10:47.016 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP FOREIGN KEY `FK_Tasks_Users_CreatedBy`;
2025-07-01 21:10:47.050 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP FOREIGN KEY `FK_Tasks_Users_UpdatedBy`;
2025-07-01 21:10:47.068 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP INDEX `IX_Tasks_CreatedBy`;
2025-07-01 21:10:47.091 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP INDEX `IX_Tasks_UpdatedBy`;
2025-07-01 21:10:47.094 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250629094758_ChangeInTasks', '8.0.13');
2025-07-01 21:10:47.095 +02:00 [INF] Applying migration '20250629203711_UserTasksDeadlineAdded'.
2025-07-01 21:10:47.211 +02:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` ADD `Deadline` datetime(6) NOT NULL DEFAULT '0001-01-01 00:00:00';
2025-07-01 21:10:47.217 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250629203711_UserTasksDeadlineAdded', '8.0.13');
2025-07-01 21:10:47.218 +02:00 [INF] Applying migration '20250630191041_ChangesAgain'.
2025-07-01 21:10:47.251 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP FOREIGN KEY `FK_Tasks_Categories_CategoryId`;
2025-07-01 21:10:47.274 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP FOREIGN KEY `FK_Tasks_Users_UserId`;
2025-07-01 21:10:47.302 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP INDEX `IX_Tasks_CategoryId`;
2025-07-01 21:10:47.334 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP INDEX `IX_Tasks_UserId`;
2025-07-01 21:10:47.416 +02:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `Categories`;
2025-07-01 21:10:47.467 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `CategoryId`;
2025-07-01 21:10:47.524 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `UserId`;
2025-07-01 21:10:47.577 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE `Tasks` DROP COLUMN `Users`;
2025-07-01 21:10:47.610 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `CategoryUserTask` (
    `CategoriesId` int NOT NULL,
    `TasksId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_CategoryUserTask` PRIMARY KEY (`CategoriesId`, `TasksId`),
    CONSTRAINT `FK_CategoryUserTask_Categories_CategoriesId` FOREIGN KEY (`CategoriesId`) REFERENCES `Categories` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_CategoryUserTask_Tasks_TasksId` FOREIGN KEY (`TasksId`) REFERENCES `Tasks` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:47.642 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `UserUserTask` (
    `TasksId` char(36) COLLATE ascii_general_ci NOT NULL,
    `UsersId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_UserUserTask` PRIMARY KEY (`TasksId`, `UsersId`),
    CONSTRAINT `FK_UserUserTask_Tasks_TasksId` FOREIGN KEY (`TasksId`) REFERENCES `Tasks` (`Id`) ON DELETE CASCADE,
    CONSTRAINT `FK_UserUserTask_Users_UsersId` FOREIGN KEY (`UsersId`) REFERENCES `Users` (`Id`) ON DELETE CASCADE
) CHARACTER SET=utf8mb4;
2025-07-01 21:10:47.664 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_CategoryUserTask_TasksId` ON `CategoryUserTask` (`TasksId`);
2025-07-01 21:10:47.690 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_UserUserTask_UsersId` ON `UserUserTask` (`UsersId`);
2025-07-01 21:10:47.693 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `__EFMigrationsHistory` (`MigrationId`, `ProductVersion`)
VALUES ('20250630191041_ChangesAgain', '8.0.13');
2025-07-01 21:10:47.852 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/auth/register - application/json; charset=utf-8 164
2025-07-01 21:10:47.904 +02:00 [WRN] Failed to determine the https port for redirect.
2025-07-01 21:10:47.928 +02:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:10:47.947 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.Dto.AuthDtos.RegisterDto) on controller Api.Controllers.AuthController (Api).
2025-07-01 21:10:48.365 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`IsActive`, `u`.`LastActive`, `u`.`Lastname`, `u`.`Name`, `u`.`PasswordHash`, `u`.`Phone`, `u`.`Role`, `u`.`UpdatedAt`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-07-01 21:10:48.636 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OutboxMessages` (`Id`, `Data`, `OccurredOn`, `ProcessedDate`, `Type`)
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO `Users` (`Id`, `CreatedAt`, `Email`, `IsActive`, `LastActive`, `Lastname`, `Name`, `PasswordHash`, `Phone`, `Role`, `UpdatedAt`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-01 21:10:48.654 +02:00 [INF] [Registration] Created user "43b8c016-f4ff-4df4-934b-900e7e717fcd".
2025-07-01 21:10:48.662 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-01 21:10:48.671 +02:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 720.8382ms
2025-07-01 21:10:48.671 +02:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:10:48.680 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/auth/register - 200 null text/plain; charset=utf-8 830.1978ms
2025-07-01 21:10:48.735 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:10:48.737 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:10:48.741 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:12:56.292 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:12:56.534 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:12:56.573 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:12:56.573 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:12:56.574 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:12:56.574 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:12:56.575 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:12:56.575 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:12:56.575 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:12:56.589 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:12:56.593 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:12:56.639 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:12:57.443 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:12:57.465 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:12:57.487 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:12:57.506 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-07-01 21:12:57.639 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/auth/register - application/json; charset=utf-8 164
2025-07-01 21:12:57.694 +02:00 [WRN] Failed to determine the https port for redirect.
2025-07-01 21:12:57.730 +02:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:12:57.757 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.Dto.AuthDtos.RegisterDto) on controller Api.Controllers.AuthController (Api).
2025-07-01 21:12:58.303 +02:00 [INF] Executed DbCommand (101ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`IsActive`, `u`.`LastActive`, `u`.`Lastname`, `u`.`Name`, `u`.`PasswordHash`, `u`.`Phone`, `u`.`Role`, `u`.`UpdatedAt`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-07-01 21:12:58.407 +02:00 [INF] Executing ConflictObjectResult, writing value of type 'System.String'.
2025-07-01 21:12:58.417 +02:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 654.2126ms
2025-07-01 21:12:58.418 +02:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:12:58.427 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/auth/register - 409 null text/plain; charset=utf-8 790.1691ms
2025-07-01 21:12:58.532 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:12:58.533 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:12:58.539 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:13:30.342 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:13:30.508 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:13:30.542 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:13:30.542 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:13:30.542 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:13:30.543 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:13:30.544 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:13:30.544 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:13:30.545 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:13:30.554 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:13:30.557 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:13:30.597 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:13:31.374 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:13:31.393 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:13:31.414 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:13:31.427 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:13:31.495 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:13:31.500 +02:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:13:31.552 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:13:31.554 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:13:31.561 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:14:13.520 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:14:13.676 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:14:13.707 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:14:13.708 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:14:13.708 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:14:13.708 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:14:13.709 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:14:13.709 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:14:13.710 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:14:13.720 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:14:13.722 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:14:13.756 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:14:14.393 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:14:14.416 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzaniatesty' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:14:14.435 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:14:14.447 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:14:14.510 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:14:14.518 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:14:14.565 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:14:14.567 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:14:14.573 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:15:37.913 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:15:38.080 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:15:38.112 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:15:38.112 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:15:38.113 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:15:38.113 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:15:38.113 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:15:38.114 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:15:38.114 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:15:38.124 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:15:38.127 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:15:38.165 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:15:38.921 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:15:38.950 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:15:38.974 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:15:38.992 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:15:39.087 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:15:39.091 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:15:39.134 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:15:39.136 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:15:39.141 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:18:41.724 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:18:41.908 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:18:41.939 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:18:41.939 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:18:41.939 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:18:41.939 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:18:41.940 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:18:41.940 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:18:41.941 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:18:41.951 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:18:41.953 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:18:41.988 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:18:42.872 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:18:42.891 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:18:42.910 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:18:42.923 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:18:42.988 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:18:42.992 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:18:43.037 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:18:43.038 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:18:44.043 +02:00 [INF] Processed outbox message f7d05dae-039a-4450-bb2c-635fb2538daa of type Core.Events.UserRegisteredEvent, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null.
2025-07-01 21:18:44.053 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:20:32.240 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:20:32.416 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:20:32.479 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:20:32.479 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:20:32.480 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:20:32.480 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:20:32.481 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:20:32.482 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:20:32.482 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:20:32.495 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:20:32.497 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:20:32.535 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:20:33.261 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:20:33.279 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:20:33.298 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:20:33.311 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:20:33.511 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:20:33.519 +02:00 [ERR] Failed executing DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:20:33.625 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:20:33.626 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:20:33.631 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:22:07.777 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:22:07.970 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:22:08.002 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:22:08.003 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:22:08.003 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:22:08.004 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:22:08.004 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:22:08.005 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:22:08.005 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:22:08.018 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:22:08.021 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:22:08.062 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:22:08.837 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:22:08.860 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:22:08.883 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:22:08.897 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:22:08.970 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:22:08.975 +02:00 [ERR] Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:22:09.029 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:22:09.030 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:22:09.037 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:22:44.686 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:22:44.832 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:22:44.861 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:22:44.861 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:22:44.862 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:22:44.862 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:22:44.863 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:22:44.863 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:22:44.863 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:22:44.872 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:22:44.875 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:22:44.914 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:22:45.522 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:22:45.547 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:22:45.574 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:22:45.592 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:22:45.665 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:22:45.669 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:22:45.708 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:22:45.709 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:22:45.713 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:24:04.318 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:24:04.473 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:24:04.502 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:24:04.503 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:24:04.503 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:24:04.503 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:24:04.504 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:24:04.504 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:24:04.504 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:24:04.516 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:24:04.519 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:24:04.559 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:24:05.234 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:24:05.255 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1 FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_SCHEMA='systemzarzadzania' AND TABLE_NAME='__EFMigrationsHistory';
2025-07-01 21:24:05.277 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `MigrationId`, `ProductVersion`
FROM `__EFMigrationsHistory`
ORDER BY `MigrationId`;
2025-07-01 21:24:05.294 +02:00 [INF] Applying migration '20250626165201_Initialize'.
2025-07-01 21:24:05.362 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2025-07-01 21:24:05.365 +02:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `OutboxMessages` (
    `Id` char(36) COLLATE ascii_general_ci NOT NULL,
    `OccurredOn` datetime(6) NOT NULL,
    `Type` longtext CHARACTER SET utf8mb4 NOT NULL,
    `Data` longtext CHARACTER SET utf8mb4 NOT NULL,
    `ProcessedDate` datetime(6) NULL,
    CONSTRAINT `PK_OutboxMessages` PRIMARY KEY (`Id`)
) CHARACTER SET=utf8mb4;
2025-07-01 21:24:05.400 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:24:05.401 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:24:05.406 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
2025-07-01 21:25:51.783 +02:00 [INF] User profile is available. Using 'C:\Users\mazur\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-01 21:25:51.879 +02:00 [ERR] Error during notification check.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Infrastructure.Services.Checkers.DeadlineChecker.CheckAsync(CancellationToken cancellationToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\Checkers\DeadlineChecker.cs:line 44
   at Infrastructure.Services.NotificationService.ExecuteAsync(CancellationToken stoppingToken) in D:\programowanie\C#\System zarzadzania zasobami\Infrastructure\Services\NotificationService.cs:line 36
2025-07-01 21:25:51.925 +02:00 [INF] Initialized Scheduler Signaller of type: Quartz.Core.SchedulerSignalerImpl
2025-07-01 21:25:51.926 +02:00 [INF] Quartz Scheduler created
2025-07-01 21:25:51.926 +02:00 [INF] JobFactory set to: Quartz.Simpl.MicrosoftDependencyInjectionJobFactory
2025-07-01 21:25:51.927 +02:00 [INF] RAMJobStore initialized.
2025-07-01 21:25:51.927 +02:00 [INF] Quartz Scheduler 3.14.0.0 - 'QuartzScheduler' with instanceId 'NON_CLUSTERED' initialized
2025-07-01 21:25:51.928 +02:00 [INF] Using thread pool 'Quartz.Simpl.DefaultThreadPool', size: 10
2025-07-01 21:25:51.929 +02:00 [INF] Using job store 'Quartz.Simpl.RAMJobStore', supports persistence: False, clustered: False
2025-07-01 21:25:51.951 +02:00 [INF] Adding 1 jobs, 1 triggers.
2025-07-01 21:25:51.955 +02:00 [INF] Adding job: DEFAULT.ProcessOutboxJob
2025-07-01 21:25:52.019 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED started.
2025-07-01 21:25:52.161 +02:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/auth/register - application/json; charset=utf-8 164
2025-07-01 21:25:52.213 +02:00 [WRN] Failed to determine the https port for redirect.
2025-07-01 21:25:52.240 +02:00 [INF] Executing endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:25:52.260 +02:00 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(Api.Dto.AuthDtos.RegisterDto) on controller Api.Controllers.AuthController (Api).
2025-07-01 21:25:52.694 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`Id`, `u`.`CreatedAt`, `u`.`Email`, `u`.`IsActive`, `u`.`LastActive`, `u`.`Lastname`, `u`.`Name`, `u`.`PasswordHash`, `u`.`Phone`, `u`.`Role`, `u`.`UpdatedAt`
FROM `Users` AS `u`
WHERE `u`.`Email` = @__email_0
LIMIT 1
2025-07-01 21:25:53.016 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (Size = 4000), @p5='?' (DbType = Guid), @p6='?' (DbType = DateTime), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `OutboxMessages` (`Id`, `Data`, `OccurredOn`, `ProcessedDate`, `Type`)
VALUES (@p0, @p1, @p2, @p3, @p4);
INSERT INTO `Users` (`Id`, `CreatedAt`, `Email`, `IsActive`, `LastActive`, `Lastname`, `Name`, `PasswordHash`, `Phone`, `Role`, `UpdatedAt`)
VALUES (@p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-07-01 21:25:53.032 +02:00 [INF] [Registration] Created user "5916859a-cc33-45f2-8671-59208fba963c".
2025-07-01 21:25:53.038 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-01 21:25:53.047 +02:00 [INF] Executed action Api.Controllers.AuthController.Register (Api) in 782.8546ms
2025-07-01 21:25:53.049 +02:00 [INF] Executed endpoint 'Api.Controllers.AuthController.Register (Api)'
2025-07-01 21:25:53.056 +02:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/auth/register - 200 null text/plain; charset=utf-8 897.0521ms
2025-07-01 21:25:53.118 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED shutting down.
2025-07-01 21:25:53.120 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED paused.
2025-07-01 21:25:53.128 +02:00 [INF] Scheduler QuartzScheduler_$_NON_CLUSTERED Shutdown complete.
